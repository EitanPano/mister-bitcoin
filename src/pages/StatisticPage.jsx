import { Component } from 'react'
import { Line } from 'react-chartjs-2';
import {
    Chart as ChartJS,
    CategoryScale,
    LinearScale,
    PointElement,
    LineElement,
    Title,
    Tooltip,
    Legend,

} from 'chart.js';

ChartJS.register(
    CategoryScale,
    LinearScale,
    PointElement,
    LineElement,
    Title,
    Tooltip,
    Legend
);

export class StatisticPage extends Component {
    state = {
        marketPrice:
            [{
                x: 1627516800,
                y: 40002.53
            },
            {
                x: 1627603200,
                y: 40005.93
            },
            {
                x: 1627689600,
                y: 42214.15
            },
            {
                x: 1627776000,
                y: 41659.06
            },
            {
                x: 1627862400,
                y: 40000.46
            },
            {
                x: 1627948800,
                y: 39193.94
            },
            {
                x: 1628035200,
                y: 38138
            },
            {
                x: 1628121600,
                y: 39750.14
            },
            {
                x: 1628208000,
                y: 40882
            },
            {
                x: 1628294400,
                y: 42825.95
            },
            {
                x: 1628380800,
                y: 44634.13
            },
            {
                x: 1628467200,
                y: 43816.14
            },
            {
                x: 1628553600,
                y: 46333.46
            },
            {
                x: 1628640000,
                y: 45608.37
            },
            {
                x: 1628726400,
                y: 45611.46
            },
            {
                x: 1628812800,
                y: 44417.78
            },
            {
                x: 1628899200,
                y: 47833.98
            },
            {
                x: 1628985600,
                y: 47112.19
            },
            {
                x: 1629072000,
                y: 47056.41
            },
            {
                x: 1629158400,
                y: 45982.55
            },
            {
                x: 1629244800,
                y: 44648.57
            },
            {
                x: 1629331200,
                y: 44777.86
            },
            {
                x: 1629417600,
                y: 46734.65
            },
            {
                x: 1629504000,
                y: 49327.75
            },
            {
                x: 1629590400,
                y: 48932.02
            },
            {
                x: 1629676800,
                y: 49335.68
            },
            {
                x: 1629763200,
                y: 49523.5
            },
            {
                x: 1629849600,
                y: 47744.58
            },
            {
                x: 1629936000,
                y: 48972.09
            },
            {
                x: 1630022400,
                y: 46962.8
            },
            {
                x: 1630108800,
                y: 49056.86
            },
            {
                x: 1630195200,
                y: 48897.65
            },
            {
                x: 1630281600,
                y: 48806.78
            },
            {
                x: 1630368000,
                y: 47074.77
            },
            {
                x: 1630454400,
                y: 47155.87
            },
            {
                x: 1630540800,
                y: 48862.76
            },
            {
                x: 1630627200,
                y: 49329.01
            },
            {
                x: 1630713600,
                y: 50035.33
            },
            {
                x: 1630800000,
                y: 49947.38
            },
            {
                x: 1630886400,
                y: 51769.06
            },
            {
                x: 1630972800,
                y: 52677.4
            },
            {
                x: 1631059200,
                y: 46809.17
            },
            {
                x: 1631145600,
                y: 46078.38
            },
            {
                x: 1631232000,
                y: 46368.69
            },
            {
                x: 1631318400,
                y: 44847.48
            },
            {
                x: 1631404800,
                y: 45144.79
            },
            {
                x: 1631491200,
                y: 46059.12
            },
            {
                x: 1631577600,
                y: 44968.76
            },
            {
                x: 1631664000,
                y: 47072.12
            },
            {
                x: 1631750400,
                y: 48167.85
            },
            {
                x: 1631836800,
                y: 47785.26
            },
            {
                x: 1631923200,
                y: 47263.6
            },
            {
                x: 1632009600,
                y: 48259.45
            },
            {
                x: 1632096000,
                y: 47249.38
            },
            {
                x: 1632182400,
                y: 42901.56
            },
            {
                x: 1632268800,
                y: 40619.27
            },
            {
                x: 1632355200,
                y: 43604.76
            },
            {
                x: 1632441600,
                y: 44888.96
            },
            {
                x: 1632528000,
                y: 42815.56
            },
            {
                x: 1632614400,
                y: 42742.01
            },
            {
                x: 1632700800,
                y: 43182.63
            },
            {
                x: 1632787200,
                y: 42238.2
            },
            {
                x: 1632873600,
                y: 41011.16
            },
            {
                x: 1632960000,
                y: 41522.38
            },
            {
                x: 1633046400,
                y: 43757.81
            },
            {
                x: 1633132800,
                y: 48140.11
            },
            {
                x: 1633219200,
                y: 47727.1
            },
            {
                x: 1633305600,
                y: 48205.72
            },
            {
                x: 1633392000,
                y: 49143.95
            },
            {
                x: 1633478400,
                y: 51505.83
            },
            {
                x: 1633564800,
                y: 55343.76
            },
            {
                x: 1633651200,
                y: 53801.1
            },
            {
                x: 1633737600,
                y: 53867.3
            },
            {
                x: 1633824000,
                y: 55122.59
            },
            {
                x: 1633910400,
                y: 54625.74
            },
            {
                x: 1633996800,
                y: 57452.01
            },
            {
                x: 1634083200,
                y: 56242.94
            },
            {
                x: 1634169600,
                y: 57406.69
            },
            {
                x: 1634256000,
                y: 57397.74
            },
            {
                x: 1634342400,
                y: 61641.17
            },
            {
                x: 1634428800,
                y: 60948.78
            },
            {
                x: 1634515200,
                y: 61546.21
            },
            {
                x: 1634601600,
                y: 61971.59
            },
            {
                x: 1634688000,
                y: 64287.64
            },
            {
                x: 1634774400,
                y: 66063.56
            },
            {
                x: 1634860800,
                y: 62354.86
            },
            {
                x: 1634947200,
                y: 60697.06
            },
            {
                x: 1635033600,
                y: 61277.28
            },
            {
                x: 1635120000,
                y: 60884.18
            },
            {
                x: 1635206400,
                y: 63070.54
            },
            {
                x: 1635292800,
                y: 60345.17
            },
            {
                x: 1635379200,
                y: 58538.49
            },
            {
                x: 1635465600,
                y: 60587.09
            },
            {
                x: 1635552000,
                y: 62249.18
            },
            {
                x: 1635638400,
                y: 61731.29
            },
            {
                x: 1635724800,
                y: 61373.44
            },
            {
                x: 1635811200,
                y: 61029.5
            },
            {
                x: 1635897600,
                y: 63241.11
            },
            {
                x: 1635984000,
                y: 62954.86
            },
            {
                x: 1636070400,
                y: 61441.83
            },
            {
                x: 1636156800,
                y: 61072.32
            },
            {
                x: 1636243200,
                y: 61516.31
            },
            {
                x: 1636329600,
                y: 63293.22
            },
            {
                x: 1636416000,
                y: 67562.17
            },
            {
                x: 1636502400,
                y: 66954.11
            },
            {
                x: 1636588800,
                y: 64976.73
            },
            {
                x: 1636675200,
                y: 64838.81
            },
            {
                x: 1636761600,
                y: 64254.67
            },
            {
                x: 1636848000,
                y: 64420.94
            },
            {
                x: 1636934400,
                y: 65468.75
            },
            {
                x: 1637020800,
                y: 63584.25
            },
            {
                x: 1637107200,
                y: 60172.26
            },
            {
                x: 1637193600,
                y: 60381.35
            },
            {
                x: 1637280000,
                y: 56921.34
            },
            {
                x: 1637366400,
                y: 58133.02
            },
            {
                x: 1637452800,
                y: 59777.98
            },
            {
                x: 1637539200,
                y: 58755.9
            },
            {
                x: 1637625600,
                y: 56301.52
            },
            {
                x: 1637712000,
                y: 57578.22
            },
            {
                x: 1637798400,
                y: 57187.54
            },
            {
                x: 1637884800,
                y: 58935.45
            },
            {
                x: 1637971200,
                y: 53588.21
            },
            {
                x: 1638057600,
                y: 54801.15
            },
            {
                x: 1638144000,
                y: 57292.28
            },
            {
                x: 1638230400,
                y: 57828.45
            },
            {
                x: 1638316800,
                y: 57025.79
            },
            {
                x: 1638403200,
                y: 57229.76
            },
            {
                x: 1638489600,
                y: 56508.48
            },
            {
                x: 1638576000,
                y: 53713.84
            },
            {
                x: 1638662400,
                y: 49253.86
            },
            {
                x: 1638748800,
                y: 49380.43
            },
            {
                x: 1638835200,
                y: 50564.63
            },
            {
                x: 1638921600,
                y: 50645.41
            },
            {
                x: 1639008000,
                y: 50511.12
            },
            {
                x: 1639094400,
                y: 47659.68
            },
            {
                x: 1639180800,
                y: 47137.46
            },
            {
                x: 1639267200,
                y: 49379.67
            },
            {
                x: 1639353600,
                y: 50117.25
            },
            {
                x: 1639440000,
                y: 46757.09
            },
            {
                x: 1639526400,
                y: 48392.79
            },
            {
                x: 1639612800,
                y: 48884.66
            },
            {
                x: 1639699200,
                y: 47658.38
            },
            {
                x: 1639785600,
                y: 46173.51
            },
            {
                x: 1639872000,
                y: 46863.67
            },
            {
                x: 1639958400,
                y: 46689.28
            },
            {
                x: 1640044800,
                y: 46910.13
            },
            {
                x: 1640131200,
                y: 48934.57
            },
            {
                x: 1640217600,
                y: 48628.35
            },
            {
                x: 1640304000,
                y: 50785.69
            },
            {
                x: 1640390400,
                y: 50814.92
            },
            {
                x: 1640476800,
                y: 50470.89
            }
            ],
        AverageBlockSize: [{
            x: 1627516800,
            y: 1.0221618375000003
        },
        {
            x: 1627603200,
            y: 0.9293354096385542
        },
        {
            x: 1627689600,
            y: 0.8155839303797466
        },
        {
            x: 1627776000,
            y: 0.772602162337662
        },
        {
            x: 1627862400,
            y: 1.2678562447552448
        },
        {
            x: 1627948800,
            y: 0.9487337218934906
        },
        {
            x: 1628035200,
            y: 1.1794950808823523
        },
        {
            x: 1628121600,
            y: 0.9629145312500004
        },
        {
            x: 1628208000,
            y: 1.0376195408805027
        },
        {
            x: 1628294400,
            y: 0.791597706586826
        },
        {
            x: 1628380800,
            y: 0.8049295759493672
        },
        {
            x: 1628467200,
            y: 1.1259523815789474
        },
        {
            x: 1628553600,
            y: 0.9898545696969694
        },
        {
            x: 1628640000,
            y: 1.10884337414966
        },
        {
            x: 1628726400,
            y: 1.0304098741721857
        },
        {
            x: 1628812800,
            y: 1.2439080211267606
        },
        {
            x: 1628899200,
            y: 0.7645612256097561
        },
        {
            x: 1628985600,
            y: 0.8235795879120882
        },
        {
            x: 1629072000,
            y: 1.1053970124223598
        },
        {
            x: 1629158400,
            y: 1.1411411337209294
        },
        {
            x: 1629244800,
            y: 1.2484088740740737
        },
        {
            x: 1629331200,
            y: 1.114092584415584
        },
        {
            x: 1629417600,
            y: 1.152746675
        },
        {
            x: 1629504000,
            y: 0.8427393705882353
        },
        {
            x: 1629590400,
            y: 0.8382142499999998
        },
        {
            x: 1629676800,
            y: 0.9285368984771573
        },
        {
            x: 1629763200,
            y: 1.1354540064935068
        },
        {
            x: 1629849600,
            y: 0.9601314625000004
        },
        {
            x: 1629936000,
            y: 1.0190372054794523
        },
        {
            x: 1630022400,
            y: 1.0255255342465757
        },
        {
            x: 1630108800,
            y: 0.9332373971631213
        },
        {
            x: 1630195200,
            y: 0.8494015705128208
        },
        {
            x: 1630281600,
            y: 1.1784164074074073
        },
        {
            x: 1630368000,
            y: 1.1419137013888885
        },
        {
            x: 1630454400,
            y: 1.2568720291970807
        },
        {
            x: 1630540800,
            y: 1.2581258120805374
        },
        {
            x: 1630627200,
            y: 1.2684944999999996
        },
        {
            x: 1630713600,
            y: 0.8860538580645164
        },
        {
            x: 1630800000,
            y: 0.8120517560975612
        },
        {
            x: 1630886400,
            y: 1.0879010000000002
        },
        {
            x: 1630972800,
            y: 1.140718496732026
        },
        {
            x: 1631059200,
            y: 1.1255606971830985
        },
        {
            x: 1631145600,
            y: 1.1926854306569343
        },
        {
            x: 1631232000,
            y: 1.1944763602941166
        },
        {
            x: 1631318400,
            y: 1.0829645540540538
        },
        {
            x: 1631404800,
            y: 0.8351191088435373
        },
        {
            x: 1631491200,
            y: 1.0503387672955977
        },
        {
            x: 1631577600,
            y: 1.0378767321428573
        },
        {
            x: 1631664000,
            y: 1.3316786619718306
        },
        {
            x: 1631750400,
            y: 1.5063900955882354
        },
        {
            x: 1631836800,
            y: 1.2240065986394557
        },
        {
            x: 1631923200,
            y: 0.955009993548387
        },
        {
            x: 1632009600,
            y: 0.7703830312499999
        },
        {
            x: 1632096000,
            y: 1.214339067073171
        },
        {
            x: 1632182400,
            y: 1.2201755365853661
        },
        {
            x: 1632268800,
            y: 1.2345030895522386
        },
        {
            x: 1632355200,
            y: 1.0165784606060606
        },
        {
            x: 1632441600,
            y: 1.205603175675676
        },
        {
            x: 1632528000,
            y: 0.8404593402777775
        },
        {
            x: 1632614400,
            y: 0.9146582446043169
        },
        {
            x: 1632700800,
            y: 1.051818432258064
        },
        {
            x: 1632787200,
            y: 1.1844019605263156
        },
        {
            x: 1632873600,
            y: 1.1511185461538471
        },
        {
            x: 1632960000,
            y: 1.2539551754385967
        },
        {
            x: 1633046400,
            y: 1.237001442857143
        },
        {
            x: 1633132800,
            y: 0.9429064361702131
        },
        {
            x: 1633219200,
            y: 0.9103214000000006
        },
        {
            x: 1633305600,
            y: 1.1672229230769233
        },
        {
            x: 1633392000,
            y: 1.274705579268293
        },
        {
            x: 1633478400,
            y: 1.1967025877862592
        },
        {
            x: 1633564800,
            y: 1.4300953475177307
        },
        {
            x: 1633651200,
            y: 1.4604280583333338
        },
        {
            x: 1633737600,
            y: 1.2898361066666668
        },
        {
            x: 1633824000,
            y: 0.8816028679245281
        },
        {
            x: 1633910400,
            y: 1.266067712328767
        },
        {
            x: 1633996800,
            y: 1.3126619999999998
        },
        {
            x: 1634083200,
            y: 1.1073083550295861
        },
        {
            x: 1634169600,
            y: 1.339773649635036
        },
        {
            x: 1634256000,
            y: 1.2966171914893623
        },
        {
            x: 1634342400,
            y: 1.2955334060150374
        },
        {
            x: 1634428800,
            y: 0.9033513624999998
        },
        {
            x: 1634515200,
            y: 1.212650628378379
        },
        {
            x: 1634601600,
            y: 1.3027479612903223
        },
        {
            x: 1634688000,
            y: 1.1791386644295303
        },
        {
            x: 1634774400,
            y: 1.5127835810810817
        },
        {
            x: 1634860800,
            y: 1.1681894810126583
        },
        {
            x: 1634947200,
            y: 1.0513427724137931
        },
        {
            x: 1635033600,
            y: 0.8392702941176471
        },
        {
            x: 1635120000,
            y: 1.1017196868131867
        },
        {
            x: 1635206400,
            y: 1.21337114
        },
        {
            x: 1635292800,
            y: 1.1074765286624202
        },
        {
            x: 1635379200,
            y: 1.2503326666666663
        },
        {
            x: 1635465600,
            y: 1.067304087719298
        },
        {
            x: 1635552000,
            y: 0.9866771935483871
        },
        {
            x: 1635638400,
            y: 1.1186222733812943
        },
        {
            x: 1635724800,
            y: 1.3150842770270275
        },
        {
            x: 1635811200,
            y: 1.2504379936708858
        },
        {
            x: 1635897600,
            y: 1.179844459627329
        },
        {
            x: 1635984000,
            y: 1.3076002867132872
        },
        {
            x: 1636070400,
            y: 1.2439429612903217
        },
        {
            x: 1636156800,
            y: 0.9210429545454545
        },
        {
            x: 1636243200,
            y: 0.9924809934640525
        },
        {
            x: 1636329600,
            y: 1.2731532074074072
        },
        {
            x: 1636416000,
            y: 1.473930407894737
        },
        {
            x: 1636502400,
            y: 1.3629159463087253
        },
        {
            x: 1636588800,
            y: 1.2304312025316457
        },
        {
            x: 1636675200,
            y: 1.2621017887323949
        },
        {
            x: 1636761600,
            y: 0.9687511372549014
        },
        {
            x: 1636848000,
            y: 0.8807973885350316
        },
        {
            x: 1636934400,
            y: 1.3503540198675492
        },
        {
            x: 1637020800,
            y: 1.2594832133333336
        },
        {
            x: 1637107200,
            y: 1.3721297986577192
        },
        {
            x: 1637193600,
            y: 1.2678713680555558
        },
        {
            x: 1637280000,
            y: 1.2758372335766426
        },
        {
            x: 1637366400,
            y: 1.049318048275862
        },
        {
            x: 1637452800,
            y: 1.1239917878787882
        },
        {
            x: 1637539200,
            y: 1.1951970070921982
        },
        {
            x: 1637625600,
            y: 1.183716757575758
        },
        {
            x: 1637712000,
            y: 1.2455407070063693
        },
        {
            x: 1637798400,
            y: 1.2444485769230769
        },
        {
            x: 1637884800,
            y: 1.3427292424242419
        },
        {
            x: 1637971200,
            y: 0.9227502447552447
        },
        {
            x: 1638057600,
            y: 0.9679079568345328
        },
        {
            x: 1638144000,
            y: 1.2171801048951045
        },
        {
            x: 1638230400,
            y: 1.2441733059701492
        },
        {
            x: 1638316800,
            y: 1.4064161167883211
        },
        {
            x: 1638403200,
            y: 1.5009869096774198
        },
        {
            x: 1638489600,
            y: 1.0852969583333336
        },
        {
            x: 1638576000,
            y: 1.0918122903225806
        },
        {
            x: 1638662400,
            y: 1.2225265542168682
        },
        {
            x: 1638748800,
            y: 1.0961228604651163
        },
        {
            x: 1638835200,
            y: 1.207005727272727
        },
        {
            x: 1638921600,
            y: 0.9516034523809525
        },
        {
            x: 1639008000,
            y: 1.3294133987730061
        },
        {
            x: 1639094400,
            y: 1.0283575705128212
        },
        {
            x: 1639180800,
            y: 0.8862376423841059
        },
        {
            x: 1639267200,
            y: 0.8631154714285717
        },
        {
            x: 1639353600,
            y: 1.1973467872340426
        },
        {
            x: 1639440000,
            y: 1.1495425202702705
        },
        {
            x: 1639526400,
            y: 1.3965797588652482
        },
        {
            x: 1639612800,
            y: 1.275047686956522
        },
        {
            x: 1639699200,
            y: 1.243847013422818
        },
        {
            x: 1639785600,
            y: 1.1942178515624997
        },
        {
            x: 1639872000,
            y: 0.7865209597315433
        },
        {
            x: 1639958400,
            y: 1.2485019027777782
        },
        {
            x: 1640044800,
            y: 1.1103203602484477
        },
        {
            x: 1640131200,
            y: 1.2057872229729725
        },
        {
            x: 1640217600,
            y: 1.1247780263157896
        },
        {
            x: 1640304000,
            y: 1.239346907284769
        },
        {
            x: 1640390400,
            y: 1.1643887142857148
        }
        ]
    }

    options1 = {
        responsive: true,
        plugins: {
            legend: {
                position: 'top',
            },
            title: {
                display: true,
                text: 'Market Price',
            },
        },
    };



    get data1() {
        const labels = this.state.marketPrice.map(item => new Date(item.x * 1000).toLocaleDateString())

        const data = {
            labels: labels,
            datasets: [
                {
                    label: 'Dataset 1',
                    data: this.state.marketPrice.map(item => item.y),
                    borderColor: 'rgb(255, 99, 132)',
                    backgroundColor: 'rgba(255, 99, 132, 0.5)',
                },
            ],
        };
        return data
    }
    get data2() {
        const labels = this.state.AverageBlockSize.map(item => new Date(item.x*1000).toLocaleDateString())
        const data = {
            labels,
            datasets: [
                {
                    label: 'Dataset 1',
                    data: this.state.AverageBlockSize.map(item => item.y),
                    borderColor: '#8A2BE2',
                    backgroundColor: '#8A2BE2',
                },
            ],
        };
        return data
    }

    

    options2 = {
        responsive: true,
        scale: {
            xAxis: [{
                type: 'time'
            }]
        },
        plugins: {
            legend: {
                position: 'top',
            },
            title: {
                display: true,
                text: 'Average Block Size',
            },

        },
    };

    // labels = this.state.marketPrice.map(item => new Date(item.x).toLocaleDateString())


    render() {
        return (
            <div className='statistic-page'>
                <div className='chart-box'>

                    <Line className='chart' options={this.options1} data={this.data1} />;
                    <Line className='chart' options={this.options2} data={this.data2} />;
                </div>
            </div>
        )
    }
}
